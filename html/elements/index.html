<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript" src="/scripts/modernizr.js"></script>
    <script type="text/javascript" src="/scripts/testXdomain.js"></script>
    <script>
        Modernizr.load([{
            test: Modernizr.xdomain,
            nope: ['/scripts/xdomain.js'],
            complete: function(){
                if('xdomain' in window){
                    xdomain.cookies = {
                        master: "Cookie",
                        slave: "Cookie"
                    };

                    xdomain.slaves({
                        ":crossDomain": "/html/index"
                    });
                }
            }
        }])
    </script>
    <script type="text/javascript" src="/scripts/cookie.js"></script>
</head>
<body onload="initCookie()">
<h1>CORS test</h1>
<p>This page is used to verify that we can set and retreive cookies to cross origin domain</p>
<div>
    <label>Origin:<span id="origin"></span></label>
    <label>CrossOrigin:<span id="crossOrigin"></span></label>
</div>
<div>
    <h2>Set Cookies</h2>
    <div>
        <label>name: <input id="cookieName"></label>
        <label>value: <input id="cookieValue"></label>
        <p id="cookieMessage"></p>
    </div>
    <div>
        <button onclick="setValue()"><span>Set Cookie</span></button>
    </div>
</div>
<div>
    <h2>Get Cookies</h2>
    <div>
        <label>name: <input id="getCookieName"></label>
        <label>value: <span id="getCookieValue"></span></label>
        <p id="getCookieMessage"></p>
    </div>
    <div>
        <button onclick="getValue()"><span>Get Cookie</span></button>
    </div>
</div>
</body>
</html>